# Delete existing build folder
rm -rf build/
# Go to web folder and create production build
cd web && npm run build
cd ..
# Make build and client folder
mkdir build
mkdir build/client
# Copy contents of client production build to build folder
cp -r web/build/. build/client

# Build program in production mode and with sqlite_icu enabled
go build -ldflags "-X main.mode=production" -tags=sqlite_icu main.go
# Copy built go program to build folder
cp ./main build